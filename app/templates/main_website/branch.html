{% extends 'main_website/main_base.html' %}

{% block title %}
Teethnology Patient Portal
{% endblock %}

{% block extra_css %}
<link href='https://cdn.jsdelivr.net/npm/fullcalendar@5.11.3/main.min.css' rel='stylesheet' />
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
<link rel="stylesheet" href="../../static/css/b_info.css">
<link rel="stylesheet" href="../../static/css/media_queries.css">
{% endblock %}

{% block content %}
<!-- Branch Image Carousel -->
<section id="branch-carousel" class="w-100 overflow-hidden">
    {% if branch_images %}
        <img src="{{ url_for('static', filename=branch_images[0].image_link) }}"
            alt="Dental Clinic"
            class="branch-img-carousel w-100">
    {% else %}
        <img src="{{ url_for('static', filename='images/no-image.jpg') }}"
            alt="No Image"
            class="branch-img-carousel w-100">
    {% endif %}
</section>

<!-- Branch Details -->
<section id="branch" class="py-5 ">
    <div class="container">
        <div class="branch-header text-center text-md-start mb-4">
            <h2>{{ branch.branch_name }}</h2>
            <span>{{ branch.full_address.split(',')[-1] }}</span>
            <p>{{ branch.clinic_description }}</p>
        </div>

        <div class="branch-content">
            <div class="branch-details-card  p-4 p-md-5 mx-auto">
                <div class="row g-4">
                    <div class="col-md-6 branch-info">
                        <h4 class="text-primary fw-bold mb-3">LOCATION</h4>
                        <p>{{ branch.full_address }}</p>
                    </div>
                    
                    <div class="col-md-6 branch-info">
                        <h4 class="text-primary fw-bold mb-3">SERVICE LIST</h4>
                        <ul class="list-unstyled">
                            {% for service in branch.services.split(',') %}
                                <li class="mb-2">{{ service.strip() }}</li>
                            {% endfor %}
                        </ul>
                    </div>
                </div>
            </div> 
        </div>
    </div>
</section>

<!-- Appointment Section -->
<section id="appointment" class="py-5 position-relative">
   <div class="position-absolute top-0 start-0 w-100 h-100"></div>
    <div class="container position-relative">
        <div class="services-header text-center mb-5">
            <h2 class="display-5 fw-bold text-primary">BOOK AN APPOINTMENT</h2>
        </div>

        <div class="row justify-content-center g-4">
            <!-- Calendar -->
            <div class="col-lg-6 appointment-calendar">
                <div class="d-flex justify-content-between align-items-center mb-4">
                    <h4 class="text-primary fw-bold mb-0">APPOINTMENT CALENDAR</h4>
                </div>
                <div id="calendar"></div>
            </div>
            <!-- Appointment Info -->
            <div class="col-lg-6 appointment-info bg-white p-4 rounded">
                <h4 class="text-center text-primary fw-bold mb-4">INFORMATION</h4>
                <hr>
                


                <button class="book btn btn-primary w-100 py-2" onclick="window.location.href='/form'">Book Now</button>
            </div>
        </div>
    </div>
</section>
{% endblock %}

{% block extra_js %}
<script src='https://cdn.jsdelivr.net/npm/fullcalendar@5.11.3/main.min.js'></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script src="../../static/js/main_b_info.js"></script>
<script src="../../static/js/main.js"></script>
{% endblock %}