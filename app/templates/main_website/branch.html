{% extends 'main_website/main_base.html' %}

{% block title %}
Teethnology Patient Portal
{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="../../static/css/b_info.css">
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
{% endblock %}

{% block content %}
<!-- Branch Image Carousel -->
<section id="branch-carousel">
    {% if branch_images %}
        <img src="{{ url_for('static', filename=branch_images[0].image_link) }}"
            alt="Dental Clinic"
            class="branch-img-carousel">
    {% else %}
        <img src="{{ url_for('static', filename='images/no-image.jpg') }}"
            alt="No Image"
            class="branch-img-carousel">
    {% endif %}
</section>

<!-- Branch Details -->
<section id="branch">
    <div class="branch-header">
        <h2>{{ branch.branch_name }}</h2>
        <span>{{ branch.full_address.split(',')[-1] }}</span>
        <p>{{ branch.clinic_description }}</p>
    </div>

    <div class="branch-content">
        <div class="branch-details-card">
            <div class="branch-info">
                <h4>LOCATION</h4>
                <p>{{ branch.full_address }}</p>
            </div>

            <div class="branch-info">
                <h4>SERVICE LIST</h4>
                <ul>
                    {% for service in branch.services.split(',') %}
                        <li>{{ service.strip() }}</li>
                    {% endfor %}
                </ul>
            </div>
        </div>
    </div>
</section>

<!-- Appointment Section -->
<section id="appointment">
    <div class="services-header">
        <h2>BOOK AN APPOINTMENT</h2>
    </div>

    <div class="appointment-container" style="display:flex;justify-content:center;gap:32px;flex-wrap:wrap;">
        <!-- Calendar -->
        <div class="appointment-calendar">
            <h4>APPOINTMENT CALENDAR</h4>
            <table>
                <thead>
                    <tr>
                        <th>SUN</th><th>MON</th><th>TUE</th><th>WED</th><th>THU</th><th>FRI</th><th>SAT</th>
                    </tr>
                </thead>
                <tbody>
                    <tr><td></td><td></td><td></td><td>1</td><td>2</td><td>3</td><td>4</td></tr>
                    <tr><td>5</td><td>6</td><td>7</td><td>8</td><td>9</td><td>10</td><td>11</td></tr>
                    <tr><td>12</td><td>13</td><td>14</td><td>15</td><td>16</td><td>17</td><td>18</td></tr>
                    <tr><td>19</td><td>20</td><td>21</td><td>22</td><td>23</td><td>24</td><td>25</td></tr>
                    <tr><td>26</td><td>27</td><td>28</td><td>29</td><td>30</td><td>31</td><td></td></tr>
                </tbody>
            </table>
        </div>

        <!-- Appointment Info -->
        <div class="appointment-info">
            <h4>INFORMATION</h4>
            <hr>
            <p>List of Available Time:</p>
            <ul>
                <li>8:00am-9:00am</li>
                <li>10:00am-11:00am</li>
                <li>1:00pm-2:00pm</li>
            </ul>

            <p>List of Available Doctors:</p>
            <ul>
                <li>{{ branch.chief_dentist }}</li>
                <li>Doctor #2</li>
                <li>Doctor #3</li>
            </ul>

            <button class="book" onclick="window.location.href='/form'">Book Now</button>
        </div>
    </div>
</section>
{% endblock %}

{% block extra_js %}
<script src="../../static/js/main.js"></script>
{% endblock %}
