<!-- Button to trigger modal -->
<button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#employeeModal">
  View Employee Details
</button>

<!-- Modal -->
<div class="modal fade" id="employeeModal" tabindex="-1" aria-labelledby="employeeModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="employeeModalLabel">Employee Details</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      
      <form method="POST" action="{{ url_for('owner.employees', branch=selected_branch)}}"
      <div class="modal-body">
        <!-- Begin unmodified form content -->
        <div class="info-header left-align">
            <h3>ADD AN EMPLOYEE FORM</h3>
        </div>

        <div class="row">
          <div class="col-md-6 column-divider">   
            <div class="mb-3">
              <label class="form-label">Branch Assignment</label>

              {% if selected_branch == 'all' %}
                <select class="form-select" name="branch_id">
                  <option value="" disabled {% if not employee %}selected{% endif %}>Select a branch</option>
                  {% for branch in branches %}
                    <option value="{{ branch.branch_id }}"
                      {% if employee and employee.branch_id == branch.branch_id %}selected{% endif %}>
                      {{ branch.branch_name }}
                    </option>
                  {% endfor %}
                </select>
              {% else %}
                <input type="text" class="form-control"
                      value="{% for branch in branches %}{% if branch.branch_id == selected_branch|int %}{{ branch.branch_name }}{% endif %}{% endfor %}"
                      readonly>
                <input type="hidden" name="branch_id" value="{{ selected_branch }}">
              {% endif %}
                        </div>
            <div class="mb-3">
              <label class="form-label">First Name</label>
              <input type="text" class="form-control" name="first_name" value="{{ employee.first_name }}">
            </div>

            <div class="mb-3">
              <label class="form-label">Middle Name</label>
              <input type="text" class="form-control" name="middle_name" value="{{ employee.middle_name }}">
            </div>

            <div class="mb-3">
              <label class="form-label">Last Name</label>
              <input type="text" class="form-control" name="last_name" value="{{ employee.last_name }}">
            </div>

            <div class="mb-3">
              <label class="form-label">Sex</label><br>
              <div class="form-check form-check-inline">
                <input class="form-check-input" type="radio" name="sex" id="sexMale" value="M"
                      {% if employee and employee.sex == 'M' %}checked{% endif %}>
                <label class="form-check-label" for="sexMale">Male</label>
              </div>
              <div class="form-check form-check-inline">
                <input class="form-check-input" type="radio" name="sex" id="sexFemale" value="F"
                      {% if employee and employee.sex == 'F' %}checked{% endif %}>
                <label class="form-check-label" for="sexFemale">Female</label>
              </div>
            </div>

            <div class="mb-3">
              <label class="form-label">Birthday</label>
              <input type="date" class="form-control" name="birthdate" value="{{ employee.birthdate }}">
            </div>

            <div class="mb-3">
              <label class="form-label">Contact Number</label>
              <input type="text" class="form-control" name="contact_number" value="{{ employee.contact_number }}">
            </div>

            <div class="mb-3">
              <label class="form-label">Email</label>
              <input type="email" class="form-control" name="email" value="{{ employee.email }}">
            </div>
          </div>
          <div class="col-md-6 ms-auto">
            <div class="mb-3">
              <label class="form-label">Employment Status</label>
              <input type="text" class="form-control" name="employment_status" value="active" readonly>
            </div>

            <div class="mb-3">
              <label class="form-label">Date Hired</label>
              <input type="date" class="form-control" name="date_hired" value="{{ today }}">
            </div>
          </div>
        </div>

        <div class="info-header">
          <h3>Work Details</h3>
        </div>

        <div class="row">
          <div class="col-md-6">
            <div class="mb-3">
              <label class="form-label">Position</label>
              <input type="text" class="form-control" name="position" value="{{ employee.position }}">
            </div>

            <div class="mb-3">
              <label class="form-label">Department</label>
              <input type="text" class="form-control" name="department" value="{{ employee.department }}">
            </div>

            <div class="mb-3">
              <label class="form-label">Shift Days</label>
              <input type="text" class="form-control" name="shift_days" value="{{ employee.shift_days }}">
            </div>

            <div class="mb-3">
              <label class="form-label">Shift Hours</label>
              <input type="text" class="form-control" name="shift_hours" value="{{ employee.shift_hours }}">
            </div>
          </div>
        </div>

        <!-- Submit button -->
        <button type="submit" class="add-btn">Add</button>
      </div>
    </div>
  </div>
</div>
