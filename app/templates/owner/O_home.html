{% extends 'owner/owner_base.html' %}

{% block title %}Dashboard - Teethnology{% endblock %}

{% block extra_css %}
<link href="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.4/index.global.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
{% endblock %}

{% block content %}
<div class="dashboard-top">
  <!-- Left Column -->
    <div class="dashboard-left">
        <div class="card welcome-card">
            <h2>üìàÔ∏è BUSINESS INSIGHT</h2>
            <hr>
            <div class="business-insight-content">
            <div class="insight-item">
                <strong>Patients Report:</strong> Cleaning appointments dropped 15% last month. Want to send a <strong>P200</strong> discount code to re-engage patients?
            </div>
            <div class="insight-item">
                <strong>Patients Forecast:</strong> Week 2 of next month may have low bookings. Consider scheduling a flash Email promo.
            </div>
            </div>
        </div>
        
        <!-- Appointments Today -->
        <div class="card info-card appointments-today-card">
            <i class="fas fa-calendar-day calendar-icon"></i>
            <div class="appointments-today-content">
                <h2>Appointments Today</h2>
                <div class="appointments-count">12</div>
                <div class="branches-text">all branches</div>
            </div>
        </div>
    </div>

  <!-- Middle Column -->
  <div class="dashboard-center card">
    <h3>PATIENTS TOMORROW</h3>
    <select name="branch" class="branch-select">
      <option value="manila">Manila Branch</option>
      <option value="quezon">Quezon Branch</option>
    </select>
    <hr>
    <div class="patient-info">
      <div class="patient-item">
        <strong>PATIENT NAME</strong><br>
        PURPOSE OF APPOINTMENT<br>
        CONTACT NUMBER<br>
        EMAIL
      </div>
      <div class="patient-item">
        <strong>PATIENT NAME</strong><br>
        PURPOSE OF APPOINTMENT<br>
        CONTACT NUMBER<br>
        EMAIL
      </div>
      <div class="patient-item">
        <strong>PATIENT NAME</strong><br>
        PURPOSE OF APPOINTMENT<br>
        CONTACT NUMBER<br>
        EMAIL
      </div>
    </div>
    <button class="send-reminders">Send Reminders</button>
  </div>

  <!-- Right Column -->
  <div class="dashboard-right card appointment-requests">
    <div class="appointment-requests-header">
      <h3>APPOINTMENTS</h3>
      <div class="appointment-requests-controls">
        <select name="branch" class="branch-select">
          <option value="manila">Manila Branch</option>
          <option value="quezon">Quezon Branch</option>
        </select>
        
      </div>
    </div>
    <hr>
    <a href="{{ url_for('owner.appointment_req') }}" class="view-all">View All</a>
    <div class="request-list">
      <div class="request-item">
        <div class="request-info">
          <strong>MM-DD-YYYY</strong><br>
          PATIENT NAME<br>
          PURPOSE OF APPOINTMENT
        </div>
        <div class="actions">
          <button class="accept">Accept</button>
          <button class="reject">Reject</button>
        </div>
      </div>
      <div class="request-item">
        <div class="request-info">
          <strong>MM-DD-YYYY</strong><br>
          PATIENT NAME<br>
          PURPOSE OF APPOINTMENT
        </div>
        <div class="actions">
          <button class="accept">Accept</button>
          <button class="reject">Reject</button>
        </div>
      </div>
    </div>
  </div>
</div>
  <!-- Calendar Section -->
  <section class="calendar-card">
      <div class="calendar-panel">
          <div id="calendar"></div>
          <div class="calendar-details-panel">
            <div class="calendar-details-header">
                <select name="branch" class="branch-select">
                    <option value="manila">Manila Branch</option>
                    <option value="quezon">Quezon Branch</option>
                </select>
            </div>
            <hr>
            <ul class="calendar-details-list">
                <li class="calendar-appointment">
                    <div class="appt-info">
                        <span class="appt-time">10:30am - 11:30am</span>
                        <div>
                            <span class="appt-dot"></span>
                            <span class="appt-type"><b>Patient Checkup</b></span>
                        </div>
                    </div>
                    <a href="{{ url_for('owner.appointments') }}" class="appt-link">View Details</a>
                </li>
                <li class="calendar-appointment">
                    <div class="appt-info">
                        <span class="appt-time">11:30am - 12:30pm</span>
                        <div>
                            <span class="appt-dot"></span>
                            <span class="appt-type"><b>Bleaching</b></span>
                        </div>
                    </div>
                    <a href="{{ url_for('owner.appointments') }}" class="appt-link">View Details</a>
                </li>
                <li class="calendar-appointment">
                    <div class="appt-info">
                        <span class="appt-time">1:00pm - 2:30pm</span>
                        <div>
                            <span class="appt-dot"></span>
                            <span class="appt-type"><b>Patient Checkup</b></span>
                        </div>
                    </div>
                    <a href="{{ url_for('owner.appointments') }}" class="appt-link">View Details</a>
                </li>
            </ul>
        </div>
      </div>
      
  </section>
{% endblock %}

{% block extra_js %}
<script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/js/bootstrap.bundle.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.4/index.global.min.js"></script>
<script src="{{ url_for('static', filename='js/owner.js') }}"></script>
<script src="{{ url_for('static', filename='js/o_appointment.js') }}"></script>
{% endblock %}
